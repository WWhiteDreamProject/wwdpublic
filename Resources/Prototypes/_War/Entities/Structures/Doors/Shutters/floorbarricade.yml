- type: entity
  id: FloorBarricade
  parent: BaseShutter
  name: adaptive shielding unit
  description: A floor-integrated security solution for rapid lockdown and containment. Deployable in seconds, providing robust protection against unforeseen threats.
  suffix: "Closed, TW"
  components:
  - type: AccessReader
  - type: Sprite
    sprite: _War/Structures/Doors/Shutters/floorbarricade.rsi
    drawdepth: Objects
    layers:
    - state: closed
      map: ["enum.DoorVisualLayers.Base"]
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,0.49,0.49" # don't want this colliding with walls or they won't close
        density: 100
        mask:
        - TableMask
        layer:
        - TableLayer
        - BulletImpassable
  - type: Door
    openDrawDepth: Objects
    closedDrawDepth: Objects
    state: Open
    closeTimeOne: 0.7
    closeTimeTwo: 0.7
    openTimeOne: 0.7
    openTimeTwo: 0.7
    openingAnimationTime: 1.4
    closingAnimationTime: 1.4
    canPry: false
    crushDamage:
      types:
        Blunt: 50 # whatahell
  - type: Physics
    canCollide: false
  - type: Appearance
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StrongMetallic
  - type: StaticPrice
    price: 500
  - type: PlaceableSurface
  - type: Climbable
    delay: 8.0
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 250
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalSlam
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetSteel1:
            min: 1
            max: 2
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Repairable
    fuelCost: 10
    doAfterDelay: 8

- type: entity
  id: FloorBarricadeOpen
  parent: FloorBarricade
  suffix: "Open, TW"
  components:
  - type: Sprite
    sprite: _War/Structures/Doors/Shutters/floorbarricade.rsi
    layers:
    - state: open
      map: ["enum.DoorVisualLayers.Base"]
  - type: Door
    state: Closed
  - type: Physics
    canCollide: true