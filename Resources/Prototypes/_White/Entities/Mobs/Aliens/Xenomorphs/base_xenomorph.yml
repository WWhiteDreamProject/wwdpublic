# BASE XENOMORPH

- type: entity
  parent:
  - BaseMob
  - MobDamageable
  - MobCombat
  - MobBloodstream
  - MobFlammable
  id: MobAlienBase
  abstract: true
  components:
#    - type: ThermalVision # Because need port
#      toggleAction: null
#      color: "#00000000"
    - type: NightVision
      toggleAction: ActionXenomorphVision
      color: "#7d0cc9"
    - type: ShowInfectedIcons
    - type: PlasmaTransfer
    - type: CombatMode
      combatToggleAction: ActionCombatModeToggleAlien
      canDisarm: true
    - type: InputMover
    - type: MobMover
    - type: MovementSpeedModifier
      baseWalkSpeed: 3
      baseSprintSpeed: 4.5
    - type: NameIdentifier
      group: GenericNumber
    - type: Tool
      speed: 3
      speedModifier: 3
      qualities:
        - Prying
    - type: Prying
      pryPowered: !type:Bool
        true
      force: !type:Bool
        true
      useSound:
        path: /Audio/Items/crowbar.ogg
    - type: Reactive
      groups:
        Flammable: [Touch]
        Extinguish: [Touch]
    - type: NpcFactionMember
      factions:
        - Xeno
    - type: DeathGasps
      prototype: XenomorphDeathGasp
      deathSounds:
        collection: XenomorphDeath
      canOtherHearDeathSound: True
    - type: Hands
    - type: Puller
      needsHands: false
    - type: IdExaminable
    - type: InventorySlots
    - type: Stripping
    - type: Strippable
    - type: UserInterface
      interfaces:
        - key: enum.StrippingUiKey.Key
          type: StrippableBoundUserInterface
    - type: Sprite
      drawdepth: Mobs
      offset: 0, 0.2
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 0.25
          density: 1000
          mask:
            - MobMask
          layer:
            - MobLayer
    - type: MobState
      allowedStates:
        - Alive
        - Dead
        - Critical
    - type: MobThresholds
      thresholds:
        0: Alive
        180: Critical
        190: Dead
      stateAlertDict:
        Alive: AlienHealth
        Critical: AlienCrit
        Dead: AlienDead
    - type: SlowOnDamage
      speedModifierThresholds:
        100: 0.9
        130: 0.7
        160: 0.6
    - type: Damageable
      damageContainer: Biological
      damageModifierSet: Xenomorph
    - type: Stamina
      critThreshold: 500
    - type: Bloodstream
      bloodReagent: FluorosulfuricAcid
      bloodMaxVolume: 250
      bloodlossDamage:
        types:
          Bloodloss: 0.05
      bloodlossHealDamage:
        types:
          Bloodloss: -1
    - type: MeleeWeapon
      altDisarm: true
      angle: 0
      soundHit:
        collection: AlienClaw
      animation: WeaponArcBite
      damage:
        groups:
          Brute: 20
        types:
          Structural: 10
    - type: DamageStateVisuals
      rotate: true
    - type: Butcherable
      butcheringType: knife
      spawned:
        - id: FoodMeatXeno
          amount: 5
    - type: RotationVisuals
      defaultRotation: 90
      horizontalRotation: 90
    - type: TypingIndicator
      proto: alien
    - type: Temperature
      heatDamageThreshold: 360
      coldDamageThreshold: -150
      currentTemperature: 310.15
    - type: Tag
      tags:
        - CannotSuicide
        - DoorBumpOpener
        - FootstepSound
    - type: NoSlip
    - type: Perishable
      molsPerSecondPerUnitMass: 0.0005
    - type: PassiveDamage
      allowedStates:
      - Alive
      - Critical
      - Dead
    - type: Alien
      caste: drone
      weedHeal:
        groups:
          Burn: -5
          Toxin: -5
          Airloss: -10
          Brute: -5
    - type: Body
      prototype: Xeno
    - type: Inventory
      templateId: alien
    - type: Cuffable
    - type: Ensnareable
      sprite: Objects/Misc/ensnare.rsi
      state: icon
    - type: StatusEffects
      allowed:
        - Stun
        - KnockedDown
        - SlowedDown
        - Stutter
        - Electrocution
        - ForcedSleep
        - TemporaryBlindness
        - Pacified
        - StaminaModifier
    - type: VomitAction
      thirstAdded: 5.0
      hungerAdded: 5.0
    - type: PlasmaVessel
    - type: Alerts
    - type: Speech
      speechSounds: Xenomorph
      speechVerb: SmallMob
    - type: SSDIndicator
    - type: StandingState
      canLieDown: true
    - type: Devourer
      devourTime: 2
      consumes:
      - Alive
      - Critical
    - type: Vocal
      sounds:
        Male: UnisexXenomorphHybrid
        Female: UnisexXenomorphHybrid
        Unsexed: UnisexXenomorphHybrid
    - type: LizardAccent
    - type: GuideHelp
      guides:
      - Xenomorphs

# BASE LARVA

- type: entity
  parent: SimpleSpaceMobBase
  id: MobAlienLarva
  name: alien larva
  description: Little and harmless alien
  components:
    - type: ShowInfectedIcons
    - type: GlobalAntagonist
      antagonistPrototype: globalAntagonistXenomorphs
    - type: Body
      prototype: Xeno
    - type: Speech
      speechSounds: Xenomorph
      speechVerb: SmallMob
    - type: Vocal
      sounds:
        Male: UnisexXenomorphHybrid
        Female: UnisexXenomorphHybrid
        Unsexed: UnisexXenomorphHybrid
    - type: LizardAccent
    - type: Sprite
      drawdepth: SmallMobs
      sprite: _White/Mobs/Aliens/Xenomorph/larva.rsi
      layers:
        - map: ["enum.DamageStateVisualLayers.Base", "movement"]
          state: larva0
    - type: SpriteMovement
      movementLayers:
        movement:
          state: larva0
      noMovementLayers:
        movement:
          state: larva0_idle
    - type: NpcFactionMember
      factions:
        - Xeno
    - type: HTN
      rootTask:
        task: MouseCompound
    - type: Physics
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 0.2
          density: 100
          mask:
            - SmallMobMask
          layer:
            - SmallMobLayer
    - type: MobState
    - type: DeathGasps
      prototype: XenomorphDeathGasp
      deathSounds:
        collection: LarvaDeath
      canOtherHearDeathSound: True
    - type: MobStateActions
      actions:
        Critical:
          - ActionCritSuccumb
          - ActionCritFakeDeath
          - ActionCritLastWords
    - type: MobThresholds
      thresholds:
        0: Alive
        25: Dead
      stateAlertDict:
        Alive: AlienHealth
        Critical: AlienCrit
        Dead: AlienDead
    - type: MovementSpeedModifier
      baseWalkSpeed : 2
      baseSprintSpeed : 5
    - type: DamageStateVisuals
      states:
        Alive:
          Base: larva0
        Critical:
          Base: larva0_stun
        Dead:
          Base: larva0_dead
    - type: Tag
      tags:
        - Trash
        - VimPilot
        - Meat
      wilhelmProbability: 0.001
    - type: CombatMode
      combatToggleAction: ActionCombatModeToggleAlien
    - type: MeleeWeapon
      soundHit:
        path: /Audio/Weapons/Xeno/alien_claw_flesh1.ogg
      angle: 0
      animation: WeaponArcBite
      damage:
        types:
          Blunt: 2
    - type: Bloodstream
      bloodMaxVolume: 50
      bloodReagent: FluorosulfuricAcid
    - type: MobPrice
      price: 50
    - type: BadFood
    - type: TypingIndicator
      proto: alien
    - type: NonSpreaderZombie
    - type: PreventSpiller
    - type: PassiveDamage
      allowedStates:
      - Alive
      - Critical
      - Dead
    - type: Alien
      caste: larva
      weedHeal:
        groups:
          Burn: -5
          Toxin: -5
          Airloss: -10
          Brute: -5
    - type: PlasmaVessel
      maxPlasma: 30
    - type: TimedPolymorph
      polymorphPrototype: AlienEvolutionGrowStageTwo
      polymorphTime: 50
    - type: GuideHelp
      guides:
      - XenomorphLarva

# BASE FACEHUGGER

- type: entity
  parent:
  - BaseItem
  id: BaseFacehugger
  abstract: true
  components:
  - type: Sprite
    sprite: _White/Mobs/Aliens/Xenomorph/facehugger.rsi
  - type: Item
    sprite: _White/Mobs/Aliens/Xenomorph/facehugger_inhands.rsi
    size: Small
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Xenomorph
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTypeTrigger
        damageType: Blunt
        damage: 25
      behaviors:
      - !type:SpawnEntitiesBehavior
        spawnInContainer: true
        spawn:
          FacehuggerInactive:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTypeTrigger
        damageType: Heat
        damage: 50
      behaviors:
      - !type:SpawnEntitiesBehavior
        spawnInContainer: true
        spawn:
          FacehuggerInactive:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.2
        density: 100
        mask:
        - SmallMobMask
        layer:
        - BulletImpassable
  - type: MobState
  - type: Tag
    tags:
    - AlienItem
    - WhitelistChameleon
    - MonkeyWearable
    - PetWearable
  - type: StaticPrice
    price: 1000
  - type: Clothing
    sprite: _White/Clothing/Mask/facehugger.rsi
    slots:
    - Mask
  - type: BreathMask
  - type: Blindfold
  - type: GuideHelp
    guides:
    - XenomorphFacehugger
