- type: entity
  parent: BaseGameRule
  id: DynamicRule
  components:
  - type: GameRule
    minPlayers: 5 # <5 is greenshift hours, buddy.
  - type: DynamicRule
    # WD edit start
    startingBudgetMin: 0
    startingBudgetMax: 100
    budgetPerSecond: 0.02
    # WD edit end
    table: !type:AllSelector
      children:
      # Roundstart Major Rules
      - !type:GroupSelector
        conditions:
        - !type:RoundDurationCondition
          max: 120 # WD edit 1 -> 120, because of lags rounds don't start immediately.
        children:
        - id: Traitor
          weight: 34
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
        - id: Nukeops
          weight: 10
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 20
        - id: Revolutionary
          weight: 7
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
        - id: Zombie
          weight: 4
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 20
        # WD edit start
        - id: Changeling
          weight: 20
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 15
        - id: Shadowling
          weight: 10
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 30
        - id: BloodCult
          weight: 10
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 30
        - id: BlobGameMode
          weight: 5
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 15
        # WD edit end
      # Roundstart Minor Rules
      - !type:GroupSelector
        conditions:
        - !type:RoundDurationCondition
          max: 120 # WD edit 1 -> 120, because of lags rounds don't start immediately.
        children:
#        - id: Thief
#          prob: 0.5
#          conditions:
#          - !type:HasBudgetCondition
#          - !type:MaxRuleOccurenceCondition
        - id: Devil
          prob: 0.5
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 15
      # Midround rules
      - !type:GroupSelector
        conditions:
        - !type:RoundDurationCondition
          min: 300 # minimum 5 minutes
        children:
        - id: SleeperAgents
          weight: 15
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:RoundDurationCondition
            min: 900 # 15 minutes
        - id: DragonSpawn
          weight: 15
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:RoundDurationCondition
            min: 900 # 15 minutes
          - !type:PlayerCountCondition # WD edit
            min: 29
        - id: NinjaSpawn
          weight: 20
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:RoundDurationCondition
            min: 900 # 15 minutes
          - !type:PlayerCountCondition # WD edit
            min: 30
        - id: ParadoxAnomalySpawn # WD edit
          weight: 25
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
            max: 2
          - !type:RoundDurationCondition
            min: 600 # 10 minutes
        - id: ZombieOutbreak
          weight: 2.5
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 20
          - !type:RoundDurationCondition
            min: 2700 # 45 minutes
        - id: LoneOpsSpawn
          weight: 5
          conditions:
          - !type:HasBudgetCondition
          - !type:MaxRuleOccurenceCondition
          - !type:PlayerCountCondition
            min: 20
          - !type:RoundDurationCondition
            min: 2100 # 35 minutes
        # WD edit start
        - id: LoneAbductorSpawn
          weight: 7.5
          conditions:
          - !type:HasBudgetCondition
          - !type:PlayerCountCondition
            min: 10
          - !type:RoundDurationCondition
            min: 900 # 15 minutes
        - id: DuoAbductorSpawn
          weight: 7.5
          conditions:
          - !type:HasBudgetCondition
          - !type:PlayerCountCondition
            min: 20
          - !type:RoundDurationCondition
            min: 900 # 15 minutes
        - id: XenomorphsInfestation
          weight: 5
          conditions:
          - !type:HasBudgetCondition
          - !type:PlayerCountCondition
            min: 20
          - !type:RoundDurationCondition
            min: 2100 # 35 minutes
        - id: BlobSpawn
          weight: 15
          conditions:
          - !type:HasBudgetCondition
          - !type:PlayerCountCondition
            min: 20
          - !type:RoundDurationCondition
            min: 3000 # 50 minutes
        # WD edit end
