using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client._White.UserInterface.Systems.Movement.Widgets;

[GenerateTypedNameReferences]
public sealed partial class MovementGui : UIWidget
{
    public MovementGui()
    {
        RobustXamlLoader.Load(this);
        var controller = UserInterfaceManager.GetUIController<MovementUIController>();

        MovementButton.OnToggled += _ => controller.ToggleInputMover();
    }

    public void OnInputMoverUpdated(bool sprinting)
    {
        MovementButton.TexturePath = sprinting ? "running" :  "walking";
        MovementButton.SetClickPressed(sprinting);
    }
}

